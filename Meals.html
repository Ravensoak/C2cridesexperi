<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#1f2a36">
    <title>C2C 2026 - Meals</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/lightbox.css">
    <link rel="icon" href="graphics/favicon-32x32.png" type="image/png">
  </head>

  <style>
   /* body {
      background: url("pictures/Restaurant1.jpg") no-repeat center center;
    }*/

    #footer-placeholder {
      margin-top: auto;
      width: 100%; 
    }
  
    /* === Food Menu Buttons === */
    .button-container {
      margin-top: 0.5rem; /* Reduce space above buttons */
      margin-bottom: 0.5rem; /* Optional: reduce space below if needed */
      display: flex;
      justify-content: center;
      gap: 1rem; /* Controls spacing between buttons */
      padding-left: 0.5rem;
      padding-right: 0.5rem;

    }

    .menu-button {
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 500;
      border: none;
      border-radius: 8px;
      background-color: #3498db;
      color: white;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .menu-button:hover {
      background-color: #2980b9;
      transform: translateY(-2px);
    }


    Select {
      display: block;
      margin: 0 auto 2rem;
      padding: 0.5rem;
      font-size: 1rem;
    }

    /* === Animations === */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeGlow {
        0%, 100% {
          text-shadow: 0 0 10px rgba(255,255,255,0.2), 0 0 20px rgba(0,191,255,0.2);
        }
        50% {
          text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(0,191,255,0.8);
        }
      }

    .fade-in {
      animation: fadeIn 1s ease-out;
    }

    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.6s; }
    .delay-3 { animation-delay: 1.0s; }
 
  </style>

  <body>
      <!--<header class="main-header">-->
      <header>
        <!-- Hamburger toggle -->
        <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>

        <!-- Mobile slide-out menu -->
        <nav class="mobile-menu" aria-label="Mobile Navigation">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="accommodation.html">Accommodation</a></li>
            <li><a href="meals.html">Meals</a></li>
            <li><a href="routes.html">Routes</a></li>
          </ul>
        </nav>
        <!-- Overlay -->
        <div class="menu-overlay"></div>

        <!-- Desktop navigation -->
        <nav class="main-nav" aria-label="Main Navigation">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="accommodation.html">Accommodation</a></li>
            <li><a href="meals.html">Meals</a></li>
            <li><a href="routes.html">Routes</a></li>
          </ul>
        </nav>
      </header>
    <div class="title-with-lines">
      <hr>
        <h1>Meals</h1>
      <hr>
    </div>
    <p class="centered-summary">
        Please review the menus, and then make your choice for each hotel - the button will open a Google Form for you to input your selection.
    </p>

    <!--re-instate when menus available
    <div class="button-container">
      <a href="files/Menu-TheManor.pdf" class="menu-button" target="_blank" rel="noopener">View Menus (PDF)</a>
      <a href="https://forms.gle/aJ5iLYMDShPKzC4p8" class="menu-button" target="_blank" rel="noopener">Input Meal Choice</a>
    </div>
    re-instate when menus are available -->

    <!--Disable when menus are available -->  
    <div class="button-container">
      <!-- Trigger buttons -->
      <button class="menu-button lightbox-trigger"
        data-img="/graphics/c2cRIDESlogoblack.png"
        data-text="Menus are not yet available, but you can see an example from 'The Manor Hotel'.<br><br>When menus are available, we will let you know and ask you to come here to review them so you can make your selection."
        data-target="files/Menu-TheManor.pdf">
        View Menus (PDF)
      </button>
      
      <button class="menu-button lightbox-trigger"
        data-img="/graphics/c2cRIDESlogoblack.png"
        data-text="Menus are not yet available, but please feel free to try out an example of how you would input your selection.<br><br>When menus are available, we will let you know and ask you to come here to make your meal selections."
        data-target="https://forms.gle/aJ5iLYMDShPKzC4p8">
        Input Meal Choice
      </button>
    </div>
    <!-- Disable when menus are available -->

    <p class="centered-summary">
        Once all meal options have been sent out and received back, use the buttons below to see your meal choice.
    </p>

  
      
    <div class="button-container">
      <a href="https://c2crides.netlify.app/mealselectionbyname" class="menu-button">Find by Name</a>
      <a href="https://c2crides.netlify.app/mealselectionbyhotel" class="menu-button">Find by Hotel</a>

    </div>

    <!-- Lightbox container -->
    <div class="lightbox-overlay" id="lightbox">
      <div class="lightbox-content">
        <button class="lightbox-close" onclick="closeLightbox()">âœ–</button>
        <img id="lightbox-img" src="" alt="Lightbox Image" />
        <p id="lightbox-text"></p>
      </div>
    </div>

     <div id="footer-placeholder"></div>

      <!-- Floating Refresh Button -->
    <button id="refreshButton" title="Refresh">ðŸ”„</button>

  <script>
    const btn = document.getElementById('refreshButton');
    let hideTimer;

    // Only show when running as a standalone PWA
    if (window.matchMedia('(display-mode: standalone)').matches) {
      btn.style.display = 'flex';
      setTimeout(() => btn.classList.add('visible'), 100);

      // Reload when tapped
      btn.addEventListener('click', () => window.location.reload());

      // Hide after 5 seconds of inactivity
      function resetHideTimer() {
        btn.classList.add('visible');
        clearTimeout(hideTimer);
        hideTimer = setTimeout(() => btn.classList.remove('visible'), 5000);
      }

      // Detect activity (tap, scroll, move)
      ['mousemove', 'scroll', 'touchstart'].forEach(evt =>
        document.addEventListener(evt, resetHideTimer)
      );

      resetHideTimer(); // start hiding timer
    }
  </script>
  </body>

  <!-- old footer content
  <footer>
    <div class="footer-content">
      <span class="footer-text">Â© C2C Rides</span>
      <a href="https://chat.whatsapp.com/BdqWB9yBthG91Yl9rVlVQl?mode=ems_copy_h_c" target="_blank" class="whatsapp-link" aria-label="Join WhatsApp group">
        <svg class="whatsapp-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
          <path d="M16.001 3.2c-7.06 0-12.8 5.74-12.8 12.8 0 2.26.59 4.47 1.71 6.42L3.2 28.8l6.58-1.72c1.88 1.03 4.01 1.57 6.22 1.57h.001c7.06 0 12.8-5.74 12.8-12.8s-5.74-12.8-12.8-12.8zm0 23.2c-1.91 0-3.78-.51-5.42-1.47l-.39-.23-3.91 1.02 1.04-3.81-.25-.39c-1.08-1.65-1.65-3.56-1.65-5.52 0-5.9 4.8-10.7 10.7-10.7s10.7 4.8 10.7 10.7-4.8 10.7-10.7 10.7zm5.86-8.04c-.32-.16-1.88-.93-2.17-1.04-.29-.11-.5-.16-.71.16-.21.32-.82 1.04-1.01 1.25-.18.21-.37.24-.69.08-.32-.16-1.35-.5-2.57-1.59-.95-.85-1.59-1.89-1.78-2.21-.18-.32-.02-.49.13-.65.13-.13.29-.34.45-.5.16-.16.21-.27.32-.45.11-.18.05-.34-.03-.5-.08-.16-.71-1.71-.97-2.35-.26-.64-.52-.55-.71-.56h-.61c-.21 0-.55.08-.84.39s-1.1 1.08-1.1 2.63 1.13 3.05 1.29 3.26c.16.21 2.23 3.4 5.4 4.77.76.33 1.35.53 1.81.68.76.24 1.45.21 2 .13.61-.09 1.88-.77 2.15-1.52.27-.75.27-1.39.19-1.52-.08-.13-.29-.21-.61-.37z"/>
        </svg>
        <span class="whatsapp-label">Join WhatsApp Group</span>
      </a>
    </div>
  </footer> -->

  <script>
    const toggleBtn = document.querySelector('.menu-toggle');
    const mobileMenu = document.querySelector('.mobile-menu');
    const overlay = document.querySelector('.menu-overlay');


    function toggleMenu() {
    mobileMenu.classList.toggle('active');
    overlay.classList.toggle('active');
    }

    // Open/close on hamburger click
    toggleBtn.addEventListener('click', toggleMenu);

    // Close when overlay is clicked
    overlay.addEventListener('click', toggleMenu);

     let redirectTarget = null;

    function openLightbox(imgSrc, text, targetUrl) {
      const overlay = document.getElementById('lightbox');
      const content = overlay.querySelector('.lightbox-content');

      // Inject content
      document.getElementById('lightbox-img').src = imgSrc;
      document.getElementById('lightbox-text').innerHTML = text;
      redirectTarget = targetUrl;

      // Show overlay with animation
      overlay.classList.add('show');

      // Restart animation on content
      content.classList.remove('animate');
      void content.offsetWidth; // trigger reflow
      content.classList.add('animate');
    }

    function closeLightbox() {
      const overlay = document.getElementById('lightbox');
      overlay.classList.remove('show');

      // Redirect if target is set
      if (redirectTarget) {
        window.open(redirectTarget, '_blank');
        redirectTarget = null;
      }
    }

    // Attach event listeners to all trigger buttons
    document.querySelectorAll('.lightbox-trigger').forEach(button => {
      button.addEventListener('click', () => {
        const img = button.getAttribute('data-img');
        const text = button.getAttribute('data-text');
        const target = button.getAttribute('data-target');
        openLightbox(img, text, target);
      });
    });

    function loadComponent(selector, url, fallbackHTML = '') {
    const container = document.querySelector(selector);
    if (!container) return;

    fetch(url)
      .then(response => {
        if (!response.ok) throw new Error(`Failed to load ${url}`);
        return response.text();
      })
      .then(html => {
        container.innerHTML = html;
      })
      .catch(error => {
        console.warn(`Component load failed: ${url}`, error);
        container.innerHTML = fallbackHTML;
      });
  }
  /* New code for standard footer */
  loadComponent('#footer-placeholder', 'footer.html', `
    <footer>
      <div class="footer-content">
        <span class="footer-text">Â© C2C Rides</span>
      </div>
    </footer>
  `);
  </script>
</html>